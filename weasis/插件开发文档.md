

### 1.插件配置

#### 1.1开发环境配置、

进行了开发环境配置后就可以调试插件代码了

<img src="C:\Users\12652\AppData\Roaming\Typora\typora-user-images\image-20240424160920483.png" alt="image-20240424160920483" style="zoom: 67%;" />





```
felix.auto.start.120= \
 file:${maven.localRepository}/org/weasis/archetype-resources/${app.version}/archetype-resources-${app.version}.jar \
```



#### 1.2打包部署配置

<img src="C:\Users\12652\AppData\Roaming\Typora\typora-user-images\image-20240424161024444.png" alt="image-20240424161024444" style="zoom: 50%;" />





<img src="C:\Users\12652\AppData\Roaming\Typora\typora-user-images\image-20240424161120321.png" alt="image-20240424161120321" style="zoom:50%;" />





<img src="C:\Users\12652\AppData\Roaming\Typora\typora-user-images\image-20240424161133499.png" alt="image-20240424161133499" style="zoom:50%;" />



`felix.auto.start.85=${weasis.codebase.url}/plugins/archetype-resources-3.7.0.jar`



参考来源：[Build Plug-ins :: Weasis Documentation](https://weasis.org/en/basics/customize/build-plugins/)

![image-20240425151922684](C:\Users\12652\AppData\Roaming\Typora\typora-user-images\image-20240425151922684.png)





### 2.插件开发-获取图像

获取图像的代码是参照软件原有的复制图像到剪切板（仅图像）的功能编写的



<img src="C:\Users\12652\AppData\Roaming\Typora\typora-user-images\image-20240425150731755.png" alt="image-20240425150731755" style="zoom:50%;" />



![image-20240425152353372](C:\Users\12652\AppData\Roaming\Typora\typora-user-images\image-20240425152353372.png)



### 3.插件开发-集成通讯

weasis与python端识别模块有信息交互，采用了socket的方式端口号为5555



python端配置文件路径为 ：

`/resources/config.ini`



weasis端配置文件路径为 ：

`/Weasis-3.7.0\archetype\archetype-resources\src\main\resources\config\socket.properties`





